<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Healthcare System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

</head>
<body class="bg-gray-50">
    <!-- Include navbar -->
    <div th:replace="~{fragments/navbar :: navbar(${user})}"></div>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Welcome Section -->
        <div class="bg-blue-500 rounded-2xl shadow-lg p-8 mb-8 text-white">
            <h2 class="text-3xl font-bold mb-2">
                <i class="fas fa-hand-wave mr-2"></i> Welcome, <span th:text="${user.name}">User</span>!
            </h2>
            <p class="text-lg opacity-90">
                <span th:if="${user.role.name() == 'PATIENT'}">
                    You are logged in as a Patient. You can book appointments and view your medical records.
                </span>
                <span th:if="${user.role.name() == 'DOCTOR'}">
                    You are logged in as a Doctor. You can manage your patients and appointments.
                </span>
                <span th:if="${user.role.name() == 'ADMIN'}">
                    You are logged in as a Healthcare Manager. You have full system access.
                </span>
                <span th:if="${user.role.name() == 'STAFF'}">
                    You are logged in as a Staff Member. You can scan patient QR codes and view their information.
                </span>
            </p>
        </div>

        <!-- Quick Actions -->
        <div class="bg-white rounded-2xl shadow-lg p-8">
            <div class="flex items-center justify-between mb-8">
                <div>
                    <h4 class="text-3xl font-bold text-gray-800 mb-2">
                        <i class="fas fa-bolt text-yellow-500 mr-2"></i>Quick Actions
                    </h4>
                    <p class="text-gray-600">Select an action to get started</p>
                </div>
            </div>
            
            <!-- Patient Actions -->
            <div th:if="${user.role.name() == 'PATIENT'}" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Book Appointment Card -->
                <div class="group relative bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -mr-16 -mt-16"></div>
                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-white opacity-10 rounded-full -ml-12 -mb-12"></div>
                    <div class="relative p-8 text-center">
                        <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-calendar-plus text-4xl text-blue-500"></i>
                        </div>
                        <h5 class="text-2xl font-bold text-white mb-3">Book Appointment</h5>
                        <p class="text-blue-100 mb-6 text-sm">Schedule a new appointment with a doctor</p>
                        <a href="/appointments/book" class="inline-flex items-center bg-white text-blue-600 px-6 py-3 rounded-xl font-semibold hover:bg-blue-50 transition duration-200 shadow-md">
                            <span>Book Now</span>
                            <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>

                <!-- My Appointments Card -->
                <div class="group relative bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -mr-16 -mt-16"></div>
                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-white opacity-10 rounded-full -ml-12 -mb-12"></div>
                    <div class="relative p-8 text-center">
                        <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-calendar-check text-4xl text-purple-500"></i>
                        </div>
                        <h5 class="text-2xl font-bold text-white mb-3">My Appointments</h5>
                        <p class="text-purple-100 mb-6 text-sm">View and manage your appointments</p>
                        <a href="/appointments/my-appointments" class="inline-flex items-center bg-white text-purple-600 px-6 py-3 rounded-xl font-semibold hover:bg-purple-50 transition duration-200 shadow-md">
                            <span>View All</span>
                            <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>
          
                <!-- Medical Records Card -->
                <div class="group relative bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -mr-16 -mt-16"></div>
                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-white opacity-10 rounded-full -ml-12 -mb-12"></div>
                    <div class="relative p-8 text-center">
                        <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-file-medical text-4xl text-blue-500"></i>
                        </div>
                        <h5 class="text-2xl font-bold text-white mb-3">Medical Records</h5>
                        <p class="text-blue-100 mb-6 text-sm">View your medical history and reports</p>
                        <a href="/medical-records" class="inline-flex items-center bg-white text-blue-600 px-6 py-3 rounded-xl font-semibold hover:bg-blue-50 transition duration-200 shadow-md">
                            <span>View Records</span>
                            <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Doctor Actions -->
            <div th:if="${user.role.name() == 'DOCTOR'}" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Appointments Card -->
                <div class="group relative bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -mr-16 -mt-16"></div>
                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-white opacity-10 rounded-full -ml-12 -mb-12"></div>
                    <div class="relative p-8 text-center">
                        <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-calendar-alt text-4xl text-blue-500"></i>
                        </div>
                        <h5 class="text-2xl font-bold text-white mb-3">Appointments</h5>
                        <p class="text-blue-100 mb-6 text-sm">Manage your appointment schedule</p>
                        <a href="/appointments/doctor-schedule" class="inline-flex items-center bg-white text-blue-600 px-6 py-3 rounded-xl font-semibold hover:bg-blue-50 transition duration-200 shadow-md">
                            <span>View Schedule</span>
                            <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>

                <!-- Medical Records Card -->
                <div class="group relative bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -mr-16 -mt-16"></div>
                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-white opacity-10 rounded-full -ml-12 -mb-12"></div>
                    <div class="relative p-8 text-center">
                        <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-file-medical text-4xl text-purple-500"></i>
                        </div>
                        <h5 class="text-2xl font-bold text-white mb-3">Medical Records</h5>
                        <p class="text-purple-100 mb-6 text-sm">Scan patient QR code to view records</p>
                        <a href="/medical-records/doctor/qr-scanner" class="inline-flex items-center bg-white text-purple-600 px-6 py-3 rounded-xl font-semibold hover:bg-purple-50 transition duration-200 shadow-md">
                            <span>Scan QR Code</span>
                            <i class="fas fa-qrcode ml-2"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Admin Actions -->
            <div th:if="${user.role.name() == 'ADMIN'}" class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- User Management Card -->
                <div class="group relative bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -mr-16 -mt-16"></div>
                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-white opacity-10 rounded-full -ml-12 -mb-12"></div>
                    <div class="relative p-8 text-center">
                        <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-users-cog text-4xl text-blue-500"></i>
                        </div>
                        <h5 class="text-2xl font-bold text-white mb-3">User Management</h5>
                        <p class="text-blue-100 mb-6 text-sm">Manage doctors, patients, and staff</p>
                        <a th:href="@{/admin/users}" class="inline-flex items-center bg-white text-blue-600 px-6 py-3 rounded-xl font-semibold hover:bg-blue-50 transition duration-200 shadow-md">
                            <span>Manage Users</span>
                            <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>

                <!-- Reports Card -->
                <div class="group relative bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -mr-16 -mt-16"></div>
                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-white opacity-10 rounded-full -ml-12 -mb-12"></div>
                    <div class="relative p-8 text-center">
                        <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-chart-line text-4xl text-emerald-500"></i>
                        </div>
                        <h5 class="text-2xl font-bold text-white mb-3">Reports & Analytics</h5>
                        <p class="text-emerald-100 mb-6 text-sm">View system reports and analytics</p>
                        <a th:href="@{/admin/analytics}" class="inline-flex items-center bg-white text-emerald-600 px-6 py-3 rounded-xl font-semibold hover:bg-emerald-50 transition duration-200 shadow-md">
                            <span>View Reports</span>
                            <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>

                <!-- View Concerns Card -->
                <div class="group relative bg-gradient-to-br from-slate-600 to-slate-700 rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -mr-16 -mt-16"></div>
                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-white opacity-10 rounded-full -ml-12 -mb-12"></div>
                    <div class="relative p-8 text-center">
                        <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-comment-medical text-4xl text-slate-600"></i>
                        </div>
                        <h5 class="text-2xl font-bold text-white mb-3">View Concerns</h5>
                        <p class="text-slate-100 mb-6 text-sm">Review patient medical record concerns</p>
                        <a href="/medical-record-concerns/view" class="inline-flex items-center bg-white text-slate-700 px-6 py-3 rounded-xl font-semibold hover:bg-slate-50 transition duration-200 shadow-md">
                            <span>View Concerns</span>
                            <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Staff Actions -->
            <div th:if="${user.role.name() == 'STAFF'}" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Scan QR Code Card -->
                <div class="group relative bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -mr-16 -mt-16"></div>
                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-white opacity-10 rounded-full -ml-12 -mb-12"></div>
                    <div class="relative p-8 text-center">
                        <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-qrcode text-4xl text-purple-500"></i>
                        </div>
                        <h5 class="text-2xl font-bold text-white mb-3">Scan QR Code</h5>
                        <p class="text-purple-100 mb-6 text-sm">Scan patient QR code to view details</p>
                        <a th:href="@{/staff/scanner}" class="inline-flex items-center bg-white text-purple-600 px-6 py-3 rounded-xl font-semibold hover:bg-purple-50 transition duration-200 shadow-md">
                            <span>Open Scanner</span>
                            <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>

                <!-- Check-In Patients Card -->
                <div class="group relative bg-gradient-to-br from-teal-500 to-teal-600 rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -mr-16 -mt-16"></div>
                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-white opacity-10 rounded-full -ml-12 -mb-12"></div>
                    <div class="relative p-8 text-center">
                        <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-user-check text-4xl text-teal-500"></i>
                        </div>
                        <h5 class="text-2xl font-bold text-white mb-3">Check-In Patients</h5>
                        <p class="text-teal-100 mb-6 text-sm">Manage patient check-ins</p>
                        <a th:href="@{/staff/check-in}" class="inline-flex items-center bg-white text-teal-600 px-6 py-3 rounded-xl font-semibold hover:bg-teal-50 transition duration-200 shadow-md">
                            <span>View Check-Ins</span>
                            <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>


            </div>
        </div>
    </div>
</body>
</html>
